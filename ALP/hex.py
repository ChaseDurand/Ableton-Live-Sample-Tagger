import sys
from io import StringIO



#Manually copying data for testing

#data = '000000000206000200000C4D6163696E746F73682048440000000000000000000000000000000000000042440001FFFFFFFF1F7072657474792066617220726973657220752346464646464646462E7761760000000000000000000000000000000000000000000000000000000000000000FFFFFFFF000000000000000000000000FFFFFFFF00000A206375000000000000000000000000000E417564696F20486F6D65627265770002006B2F3A55736572733A6368617365647572616E643A4465736B746F703A536F756E64205265736F75726365733A496E746572636570743A417564696F20486F6D65627265773A707265747479206661722072697365722075706C69667465722073776565702066782E77617600000E004E00260070007200650074007400790020006600610072002000720069007300650072002000750070006C00690066007400650072002000730077006500650070002000660078002E007700610076000F001A000C004D006100630069006E0074006F007300680020004800440012006955736572732F6368617365647572616E642F4465736B746F702F536F756E64205265736F75726365732F496E746572636570742F417564696F20486F6D65627265772F707265747479206661722072697365722075706C69667465722073776565702066782E77617600001300012F00001500020012FFFF0000'
data = '0000000001CA000200000C4D6163696E746F73682048440000000000000000000000000000000000000042440001FFFFFFFF124861726477617265204C617A65722E616966000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000FFFFFFFF000000004149464600000000FFFFFFFF00000A20637500000000000000000000000000024658000200682F3A55736572733A6368617365647572616E643A4D757369633A41626C65746F6E3A466163746F7279205061636B733A536B697474657220616E6420537465703A53616D706C65733A4F6E652053686F74733A46583A4861726477617265204C617A65722E616966000E00260012004800610072006400770061007200650020004C0061007A00650072002E006100690066000F001A000C004D006100630069006E0074006F007300680020004800440012006655736572732F6368617365647572616E642F4D757369632F41626C65746F6E2F466163746F7279205061636B732F536B697474657220616E6420537465702F53616D706C65732F4F6E652053686F74732F46582F4861726477617265204C617A65722E616966001300012F00001500020012FFFF0000'
path = bytearray.fromhex(data)

#Redirecting stdout so I can save the print output because decoding the hex is giving me problems
#stdout is reset to previous value at end
old_stdout = sys.stdout
sys.stdout = mystdout = StringIO()
print(path)
sys.stdout = old_stdout
path = mystdout.getvalue()
#Thanks stackoverflow.

#Finds : which looks to be uniquely found in the sample path
#I should probably figure out what the rest of the hex is and how it's structured
#This implementation ignores volumes, which appears to be stored early in the hex, so I'm unsure how it handles samples from another volume, such as a USB drive
pathstart = path.find(":") #path starts at first colon
pathend = path.find("\\",pathstart) #path ends at first backslash following path
path = path[pathstart:pathend] #reduce string to just the range of the found path
path = path.replace(":","/")
print(path)